@tailwind base;
@tailwind components;
@tailwind utilities;

/* Glass / neon helpers */
@layer utilities {
    .glass {
        @apply bg-white/5 backdrop-blur-md border border-white/10;
    }

    .neon {
        text-shadow: 0 0 12px rgba(99, 102, 241, 0.75);
    }

    /* Mejor contraste para modo claro (activar con <body class="light">) */
    body.light [data-page="budget"] input,
    body.light [data-page="budget"] select,
    body.light [data-page="budget"] textarea {
        @apply bg-white text-slate-900 border-slate-300;
    }
    body.light [data-page="budget"] .glass {
        background: #ffffff; /* caja blanca */
        border-color: #e6eef8;
    }
    body.light [data-page="budget"] .font-medium { color: #0b1220; }
    body.light [data-page="budget"] .text-slate-300 { color: #334155; }

    /* Utilities para mejorar contraste general */
    .ui-card {
        background: var(--color-bg-card) !important;
        color: var(--color-text) !important;
        border: 1px solid var(--color-border) !important;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(2,6,23,0.06);
    }

    .ui-input {
        background: var(--color-bg-card-alt) !important;
        color: var(--color-text) !important;
        border: 1px solid var(--color-border) !important;
        padding: 0.5rem 0.75rem;
        border-radius: 8px;
    }

    html[data-theme="dark"] .ui-card { box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
    html[data-theme="dark"] .ui-input { background: rgba(255,255,255,0.03) !important; }
}

/* ===========================
   Correcciones de contraste
   Forzar colores legibles en MODO CLARO cuando algunas utilidades de Tailwind devuelven tonos demasiado tenues
   =========================== */
/* Aplicar sólo cuando NO estamos en tema oscuro (data-theme != dark) */
html:not([data-theme="dark"]) .text-slate-300,
html:not([data-theme="dark"]) .text-slate-400,
html:not([data-theme="dark"]) .text-gray-300,
html:not([data-theme="dark"]) .text-gray-400,
body.light .text-slate-300,
body.light .text-slate-400 {
    color: var(--color-text-muted) !important;
}

html:not([data-theme="dark"]) .text-slate-200,
html:not([data-theme="dark"]) .text-gray-200,
body.light .text-slate-200 {
    color: rgba(15,23,36,0.65) !important; /* ligeramente más suave que el texto principal */
}

/* Inputs / placeholders */
html:not([data-theme="dark"]) ::placeholder,
body.light ::placeholder {
    color: rgba(71,85,105,0.55) !important; /* placeholder legible */
}

/* Tablas y leyendas pequeñas */
html:not([data-theme="dark"]) .text-xs,
body.light .text-xs {
    color: var(--color-text-muted) !important;
}

/* Asegurar que badges/labels con clases 'text-slate-300' en claro sean visibles */
html:not([data-theme="dark"]) .badge, body.light .badge {
    color: var(--color-text) !important;
}
